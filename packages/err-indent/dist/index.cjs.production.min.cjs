"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("indent-string"),r=require("clean-stack"),t=require("util"),n=require("check-iterable"),i=require("array-hyper-unique"),u=require("err-errors"),s=require("err-stack-reduce"),o=require("err-stack-meta"),a=require("error-stack2");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(e),d=l(r);function f(e){return"string"!=typeof e&&!(e instanceof String)&&n.isIterable(e)}function p(e,r,n){var u,a,l;if(!e||!f(e))throw new TypeError(`Invalid input errors: ${e}`);null!==(u=r)&&void 0!==u||(r={});const{handleStack:c=(e=>d.default(e))}=r;let p;null!==(a=n)&&void 0!==a||(n=r.error);let g=[];const h=s.errStackReduceCore(n,r.stackReduceOptions);return e.forEach((e=>{null!=e&&(n===e?p=String(e):g.push("string"==typeof e.stack?c(o.stringifyStackMeta(h(e)),e):t.inspect(e)))})),g=g.filter((e=>null==e?void 0:e.length)),null!==(l=p)&&void 0!==l&&l.length&&g.unshift(p),i.array_unique_overwrite(g)}function g(e,r){var t,n;return f(e)&&(e=[...e].join("\n")),null!==(t=r)&&void 0!==t||(r={}),c.default(e,null!==(n=r.indent)&&void 0!==n?n:4,r.indentOptions)}function h(e,r,t){return g(p(e,r,t),r)}function v(e,r,t){var n;null!==(n=r)&&void 0!==n||(r=u.getSubErrors(e));let i=a.parseStack(e.stack,e.message),s=[];void 0!==i.message&&s.push(i.message);let o=h(r,t,e);if(o.length&&(0===s.length&&s.push(""),s.push(o)),s.length)return s.join("\n")}exports._isAllowedIterable=f,exports.default=v,exports.errorsToMessageList=p,exports.indentSubErrorMessage=g,exports.indentSubErrors=h,exports.indentSubErrorsFromError=function(e,r){return h(u.getSubErrors(e),r,e)},exports.messageWithSubErrors=v;
//# sourceMappingURL=index.cjs.production.min.cjs.map
